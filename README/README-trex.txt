Sources running the Cisco TREX traffic generator can be controlled by the STAAS portal.

Installing and running trex:
   https://github.com/open-traffic-generator/snappi-trex/blob/main/docs/trex-tutorial.md

1. sudo mkdir /opt/trex
   cd /opt/trex

2. Download newest trex: wget --no-cache https://trex-tgn.cisco.com/trex/release/latest

   sudo mv latext latest.zip
   tar -xvzf latest.zip

   This will create v3.04 directory

   cd v3.04

3. Run sudo apt-get install python3-pip

4. Run

   sudo ip link add veth1 type veth peer name veth2
   sudo ip link set veth1 up
   sudo ip link set veth2 up

5. Run sudo ./dpdk_setup_ports.py -i to create /etc/trex_cfg.yaml

   Configure interfaces interactively or accept defaults and continue to modify

6. Modify /etc/trex_cfg.yaml to chosen ports and IP addresses on the dedicate trex network interface pair

     ### Modify IP addresses and gateways as required
     ### Config file generated by dpdk_setup_ports.py ###
     
     - version: 2
       interfaces: ['05:00.0', '05:00.1']
       port_info:
           - ip: 10.43.214.41
             default_gw: 10.43.214.1
           - ip: 10.43.213.42
             default_gw: 10.43.213.1
     
       platform:
           master_thread_id: 0
           latency_thread_id: 1
           dual_if:
             - socket: 0
               threads: [2,4,6,8,10,12,14,16,18,20,22]

7. run trex server:

   sudo ./t-rex-64 -i -c 8

8. run trex_console:

   sudo ./trex-console

   trex>

9. run benchmark profile:

   trex> start -f stl/bench.py -m 5000pps --port 0 -t size=1518,vm=cached

10. Check statistics:

    trex>stats -x

    Xstats
    
                Name:              |     Port 0:     |     Port 1:     
    -------------------------------+-----------------+----------------
    tx_good_packets                |              12 |               0 
    tx_good_bytes                  |           18168 |               0 
    rx_errors                      |               0 |              12 
    tx_unicast_packets             |              12 |               0 
    rx_oversize_errors             |               0 |              12 
    tx_size_1024_to_1522_packets   |              12 |               0 
    FOR size=1519 (tx_errors):

    Clear statistics:

    trex> clear

    Exit
    <cntl-c>
